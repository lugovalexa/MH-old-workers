index = c("mergeid", "year"),
model = "within")
coeftest(fe_mod, vcov. = vcovHC, type = "HC1")
#data <- read.csv("final_w456.csv")
data <- read.csv("data_clean_w46_common.csv")
# age squared
data$age_squared <- data$age^2
fe_mod <- plm(eurod ~ work_horizon + work_horizon_change + age + I(age_squared) + partnerinhh + nb_children + gender + yrseducation + jqi_monthly_earnings + jqi_skills_discretion + jqi_social_environment + jqi_physical_environment + jqi_intensity + jqi_prospects + jqi_working_time_quality + factor(country) + factor(isco),
data = data,
index = c("mergeid", "year"),
model = "within")
coeftest(fe_mod, vcov. = vcovHC, type = "HC1")
data$work_horizon_change_bin <- ifelse(data$work_horizon_change > 1, 1, 0)
fe_mod <- plm(eurod ~ work_horizon + work_horizon_change_bin + age + I(age_squared) + partnerinhh + nb_children + gender + yrseducation + jqi_monthly_earnings + jqi_skills_discretion + jqi_social_environment + jqi_physical_environment + jqi_intensity + jqi_prospects + jqi_working_time_quality + factor(isco) + factor(country),
data = data,
index = c("mergeid", "year"),
model = "within")
coeftest(fe_mod, vcov. = vcovHC, type = "HC1")
data <- read.csv("final_w456.csv")
#data <- read.csv("data_clean_w46_common.csv")
library(plm)
library(lmtest)
library(dplyr)
data <- read.csv("final_w456.csv")
#data <- read.csv("data_clean_w46_common.csv")
# age squared
data$age_squared <- data$age^2
fe_mod <- plm(eurod ~ work_horizon + work_horizon_change + age + I(age_squared) + partnerinhh + nb_children + gender + yrseducation, #+ jqi_monthly_earnings + jqi_skills_discretion + jqi_social_environment + jqi_physical_environment + jqi_intensity + jqi_prospects + jqi_working_time_quality + factor(country) + factor(isco),
data = data,
index = c("mergeid", "year"),
model = "within")
coeftest(fe_mod, vcov. = vcovHC, type = "HC1")
data$work_horizon_change_bin <- ifelse(data$work_horizon_change > 1, 1, 0)
fe_mod <- plm(eurod ~ work_horizon + work_horizon_change_bin + age + I(age_squared) + partnerinhh + nb_children + gender + yrseducation + jqi_monthly_earnings + jqi_skills_discretion + jqi_social_environment + jqi_physical_environment + jqi_intensity + jqi_prospects + jqi_working_time_quality + factor(isco) + factor(country),
data = data,
index = c("mergeid", "year"),
model = "within")
coeftest(fe_mod, vcov. = vcovHC, type = "HC1")
data$work_horizon_change_bin <- ifelse(data$work_horizon_change > 1, 1, 0)
fe_mod <- plm(eurod ~ work_horizon + work_horizon_change_bin + age + I(age_squared) + partnerinhh + nb_children + gender + yrseducation, #+ jqi_monthly_earnings + jqi_skills_discretion + jqi_social_environment + jqi_physical_environment + jqi_intensity + jqi_prospects + jqi_working_time_quality + factor(isco) + factor(country),
data = data,
index = c("mergeid", "year"),
model = "within")
coeftest(fe_mod, vcov. = vcovHC, type = "HC1")
data$work_horizon_change_cat <- cut(data$work_horizon_change, breaks = c(-Inf, 0, 1, 2, Inf), labels = c("0", "<1", "<2", "2+"), include.lowest = TRUE)
fe_mod <- plm(eurod ~ work_horizon + work_horizon_change_cat + age + I(age_squared) + partnerinhh + nb_children + gender + yrseducation, #+ jqi_monthly_earnings + jqi_skills_discretion + jqi_social_environment + jqi_physical_environment + jqi_intensity + jqi_prospects + jqi_working_time_quality + factor(country) + factor(isco),
data = data,
index = c("mergeid", "year"),
model = "within")
coeftest(fe_mod, vcov. = vcovHC, type = "HC1")
mean_physical_environment <- mean(data$jqi_physical_environment)
filtered_data <- data[data$jqi_physical_environment > mean_physical_environment, ]
fe_mod <- plm(eurod ~ work_horizon + work_horizon_change + age + I(age_squared) + partnerinhh + nb_children + gender + yrseducation, #+ jqi_monthly_earnings + jqi_skills_discretion + jqi_social_environment + jqi_physical_environment + jqi_intensity + jqi_prospects + jqi_working_time_quality + factor(country) + factor(isco),
data = filtered_data,
index = c("mergeid", "year"),
model = "within")
coeftest(fe_mod, vcov. = vcovHC, type = "HC1")
mean_jqi_phy <- mean(data$jqi_physical_environment, na.rm = TRUE)
data$binary_jqi_phy <- ifelse(data$jqi_physical_environment > mean_jqi, 1, 0)
mean_jqi_phy <- mean(data$jqi_physical_environment, na.rm = TRUE)
data$binary_jqi_phy <- ifelse(data$jqi_physical_environment > mean_jqi_phy, 1, 0)
fe_mod <- plm(eurod ~ work_horizon + work_horizon_change + age + I(age_squared) + partnerinhh + nb_children + gender + yrseducation + binary_jqi_phy, #+ jqi_monthly_earnings + jqi_skills_discretion + jqi_social_environment + jqi_physical_environment + jqi_intensity + jqi_prospects + jqi_working_time_quality + factor(country) + factor(isco),
data = filtered_data,
index = c("mergeid", "year"),
model = "within")
mean_jqi_phy <- mean(data$jqi_physical_environment, na.rm = TRUE)
data$binary_jqi_phy <- ifelse(data$jqi_physical_environment > mean_jqi_phy, 1, 0)
fe_mod <- plm(eurod ~ work_horizon + work_horizon_change + age + I(age_squared) + partnerinhh + nb_children + gender + yrseducation + binary_jqi_phy, #+ jqi_monthly_earnings + jqi_skills_discretion + jqi_social_environment + jqi_physical_environment + jqi_intensity + jqi_prospects + jqi_working_time_quality + factor(country) + factor(isco),
data = data,
index = c("mergeid", "year"),
model = "within")
coeftest(fe_mod, vcov. = vcovHC, type = "HC1")
mean_jqi_phy <- mean(data$jqi_physical_environment, na.rm = TRUE)
data$binary_jqi_phy <- ifelse(data$jqi_physical_environment < mean_jqi_phy, 1, 0)
fe_mod <- plm(eurod ~ work_horizon + work_horizon_change + age + I(age_squared) + partnerinhh + nb_children + gender + yrseducation + binary_jqi_phy, #+ jqi_monthly_earnings + jqi_skills_discretion + jqi_social_environment + jqi_physical_environment + jqi_intensity + jqi_prospects + jqi_working_time_quality + factor(country) + factor(isco),
data = data,
index = c("mergeid", "year"),
model = "within")
coeftest(fe_mod, vcov. = vcovHC, type = "HC1")
data <- read.csv("data_clean_w46_common.csv")
data$time = ifelse(data$year >= 2015, 1, 0)
#data <- data %>%
#  mutate(work_horizon_change = ifelse(time == 0, 0, work_horizon_change))
mergeids_to_treat <- data %>%
filter(time == 1 & work_horizon_change > 1) %>%
select(mergeid) %>%
distinct()
data <- data %>%
mutate(treated = ifelse(mergeid %in% mergeids_to_treat$mergeid, 1, 0))
data$did = data$time * data$treated
didreg = lm(eurod ~ treated + time + did, data = data)
summary(didreg)
didreg = lm(eurod ~ treated + time + did + age + age_squared + gender + nb_children + partnerinhh + yrseducation + work_horizon, data = data)
# age squared
data$age_squared <- data$age^2
didreg = lm(eurod ~ treated + time + did + age + I(age_squared) + gender + nb_children + partnerinhh + yrseducation + work_horizon, data = data)
summary(didreg)
didreg = lm(eurod ~ treated + time + did + age + I(age_squared) + gender + nb_children + partnerinhh + yrseducation + work_horizon + jqi_monthly_earnings + jqi_skills_discretion + jqi_social_environment + jqi_physical_environment + jqi_intensity + jqi_prospects + jqi_working_time_quality, data = data)
summary(didreg)
logit_reg <- glm(eurodcat ~ treated + time + did + age + I(age_squared) + gender + nb_children + partnerinhh + yrseducation + work_horizon + jqi_monthly_earnings + jqi_skills_discretion + jqi_social_environment + jqi_physical_environment + jqi_intensity + jqi_prospects + jqi_working_time_quality, data = data,
family = binomial(link = "logit"))
summary(logit_reg)
mean_physical_environment <- mean(data$jqi_physical_environment)
filtered_data <- data[data$jqi_physical_environment > mean_physical_environment, ]
didreg = lm(eurod ~ treated + time + did + age + age_squared + gender + nb_children + partnerinhh + yrseducation + work_horizon + jqi_monthly_earnings + jqi_skills_discretion + jqi_social_environment + jqi_physical_environment + jqi_intensity + jqi_prospects + jqi_working_time_quality, data = filtered_data)
summary(didreg)
mean_physical_environment <- mean(data$jqi_physical_environment)
filtered_data <- data[data$jqi_physical_environment > mean_physical_environment, ]
didreg = lm(eurod ~ treated + time + did + age + I(age_squared) + gender + nb_children + partnerinhh + yrseducation + work_horizon + jqi_monthly_earnings + jqi_skills_discretion + jqi_social_environment + jqi_physical_environment + jqi_intensity + jqi_prospects + jqi_working_time_quality, data = filtered_data)
summary(didreg)
didreg = plm(eurod ~ treated + time + did + age + I(age_squared) + gender + nb_children + partnerinhh + yrseducation + work_horizon + jqi_monthly_earnings + jqi_skills_discretion + jqi_social_environment + jqi_physical_environment + jqi_intensity + jqi_prospects + jqi_working_time_quality, data = data, index = c("mergeid", "year"), model = "within")
summary(didreg)
didreg = plm(eurod ~ treated + time + did + age + I(age_squared) + gender + nb_children + partnerinhh + yrseducation + work_horizon + jqi_monthly_earnings + jqi_skills_discretion + jqi_social_environment + jqi_physical_environment + jqi_intensity + jqi_prospects + jqi_working_time_quality, data = data, index = c("isco", "year"), model = "within")
summary(didreg)
data <- read.csv("final_w456.csv")
#data <- read.csv("data_clean_w46_common.csv")
# age squared
data$age_squared <- data$age^2
data$work_horizon_change_bin <- ifelse(data$work_horizon_change > 1, 1, 0)
fe_mod <- plm(eurod ~ work_horizon + work_horizon_change_bin + age + I(age_squared) + partnerinhh + nb_children + gender + yrseducation + jqi_monthly_earnings_weighted + jqi_skills_discretion_weighted + jqi_social_environment_weighted + jqi_physical_environment_weighted + jqi_intensity_weighted + jqi_prospects_weighted + jqi_working_time_quality_weighted + factor(isco) + factor(country),
data = data,
index = c("mergeid", "year"),
model = "within")
coeftest(fe_mod, vcov. = vcovHC, type = "HC1")
data$work_horizon_change_bin <- ifelse(data$work_horizon_change > 1, 1, 0)
fe_mod <- plm(eurod ~ work_horizon + work_horizon_change_bin + age + I(age_squared) + partnerinhh + nb_children + gender + yrseducation #+ jqi_monthly_earnings + jqi_skills_discretion + jqi_social_environment + jqi_physical_environment + jqi_intensity + jqi_prospects + jqi_working_time_quality + factor(isco) + factor(country),
data = data,
data$work_horizon_change_bin <- ifelse(data$work_horizon_change > 1, 1, 0)
fe_mod <- plm(eurod ~ work_horizon + work_horizon_change_bin + age + I(age_squared) + partnerinhh + nb_children + gender + yrseducation, #+ jqi_monthly_earnings + jqi_skills_discretion + jqi_social_environment + jqi_physical_environment + jqi_intensity + jqi_prospects + jqi_working_time_quality + factor(isco) + factor(country),
data = data,
index = c("mergeid", "year"),
model = "within")
coeftest(fe_mod, vcov. = vcovHC, type = "HC1")
data$work_horizon_change_cat <- cut(data$work_horizon_change, breaks = c(-Inf, 0, 1, 2, Inf), labels = c("0", "<1", "<2", "2+"), include.lowest = TRUE)
fe_mod <- plm(eurod ~ work_horizon + work_horizon_change_cat + age + I(age_squared) + partnerinhh + nb_children + gender + yrseducation, #+ jqi_monthly_earnings + jqi_skills_discretion + jqi_social_environment + jqi_physical_environment + jqi_intensity + jqi_prospects + jqi_working_time_quality + factor(country) + factor(isco),
data = data,
index = c("mergeid", "year"),
model = "within")
coeftest(fe_mod, vcov. = vcovHC, type = "HC1")
data <- read.csv("data_clean_w46_common.csv")
# age squared
data$age_squared <- data$age^2
data$time = ifelse(data$year >= 2015, 1, 0)
#data <- data %>%
#  mutate(work_horizon_change = ifelse(time == 0, 0, work_horizon_change))
mergeids_to_treat <- data %>%
filter(time == 1 & work_horizon_change >= 1) %>%
select(mergeid) %>%
distinct()
data <- data %>%
mutate(treated = ifelse(mergeid %in% mergeids_to_treat$mergeid, 1, 0))
data$did = data$time * data$treated
didreg = lm(eurod ~ treated + time + did + age + I(age_squared) + gender + nb_children + partnerinhh + yrseducation + work_horizon, data = data)
summary(didreg)
data <- read.csv("data_clean_w46_common.csv")
# age squared
data$age_squared <- data$age^2
data$time = ifelse(data$year >= 2015, 1, 0)
#data <- data %>%
#  mutate(work_horizon_change = ifelse(time == 0, 0, work_horizon_change))
mergeids_to_treat <- data %>%
filter(time == 1 & work_horizon_change > 2) %>%
select(mergeid) %>%
distinct()
data <- data %>%
mutate(treated = ifelse(mergeid %in% mergeids_to_treat$mergeid, 1, 0))
data$did = data$time * data$treated
data <- read.csv("data_clean_w46_common.csv")
# age squared
data$age_squared <- data$age^2
data$time = ifelse(data$year >= 2015, 1, 0)
#data <- data %>%
#  mutate(work_horizon_change = ifelse(time == 0, 0, work_horizon_change))
mergeids_to_treat <- data %>%
filter(time == 1 & work_horizon_change >= 2) %>%
select(mergeid) %>%
distinct()
data <- data %>%
mutate(treated = ifelse(mergeid %in% mergeids_to_treat$mergeid, 1, 0))
data$did = data$time * data$treated
didreg = lm(eurod ~ treated + time + did + age + I(age_squared) + gender + nb_children + partnerinhh + yrseducation + work_horizon + jqi_monthly_earnings + jqi_skills_discretion + jqi_social_environment + jqi_physical_environment + jqi_intensity + jqi_prospects + jqi_working_time_quality, data = data)
summary(didreg)
data$time = ifelse(data$year >= 2015, 1, 0)
#data <- data %>%
#  mutate(work_horizon_change = ifelse(time == 0, 0, work_horizon_change))
mergeids_to_treat <- data %>%
filter(time == 1 & work_horizon_change > 1) %>%
select(mergeid) %>%
distinct()
data <- data %>%
mutate(treated = ifelse(mergeid %in% mergeids_to_treat$mergeid, 1, 0))
data$did = data$time * data$treated
didreg = lm(eurod ~ treated + time + did, data = data)
summary(didreg)
didreg = lm(eurod ~ treated + time + did + age + I(age_squared) + gender + nb_children + partnerinhh + yrseducation + work_horizon, data = data)
summary(didreg)
didreg = lm(eurod ~ treated + time + did + age + I(age_squared) + gender + nb_children + partnerinhh + yrseducation + work_horizon + jqi_monthly_earnings + jqi_skills_discretion + jqi_social_environment + jqi_physical_environment + jqi_intensity + jqi_prospects + jqi_working_time_quality, data = data)
summary(didreg)
logit_reg <- glm(eurodcat ~ treated + time + did + age + I(age_squared) + gender + nb_children + partnerinhh + yrseducation + work_horizon + jqi_monthly_earnings + jqi_skills_discretion + jqi_social_environment + jqi_physical_environment + jqi_intensity + jqi_prospects + jqi_working_time_quality, data = data,
family = binomial(link = "logit"))
summary(logit_reg)
didreg = lm(eurod ~ treated + time + did + age + I(age_squared) + gender + nb_children + partnerinhh + yrseducation + work_horizon + jqi_monthly_earnings + jqi_skills_discretion + jqi_social_environment + jqi_physical_environment + jqi_intensity + jqi_prospects + jqi_working_time_quality + factor(country), data = data)
summary(didreg)
didreg = lm(eurod ~ treated + time + did + age + I(age_squared) + gender + nb_children + partnerinhh + yrseducation + work_horizon + jqi_monthly_earnings + jqi_skills_discretion + jqi_social_environment + jqi_physical_environment + jqi_intensity + jqi_prospects + jqi_working_time_quality + factor(isco), data = data)
summary(didreg)
didreg = lm(eurod ~ treated + time + did + age + I(age_squared) + gender + nb_children + partnerinhh + yrseducation + work_horizon + jqi_monthly_earnings + jqi_skills_discretion + jqi_social_environment + jqi_physical_environment + jqi_intensity + jqi_prospects + jqi_working_time_quality, data = data)
summary(didreg)
library(plm)
library(lmtest)
library(dplyr)
data <- read.csv("final_w456.csv")
#data <- read.csv("data_clean_w46_common.csv")
# age squared
data$age_squared <- data$age^2
fe_mod <- plm(eurod ~ work_horizon + work_horizon_change + age + I(age_squared) + partnerinhh + nb_children + gender + yrseducation + jqi_monthly_earnings + jqi_skills_discretion + jqi_social_environment + jqi_physical_environment + jqi_intensity + jqi_prospects + jqi_working_time_quality + factor(country) + factor(isco),
data = data,
index = c("mergeid", "year"),
model = "random")
coeftest(fe_mod, vcov. = vcovHC, type = "HC1")
fe_mod <- plm(eurod ~ work_horizon + work_horizon_change + age + I(age_squared) + partnerinhh + nb_children + gender + yrseducation + jqi_monthly_earnings + jqi_skills_discretion + jqi_social_environment + jqi_physical_environment + jqi_intensity + jqi_prospects + jqi_working_time_quality + factor(country) + factor(isco),
data = data,
index = c("mergeid", "year"),
model = "fd")
coeftest(fe_mod, vcov. = vcovHC, type = "HC1")
fe_mod <- plm(eurod ~ work_horizon + work_horizon_change + age + I(age_squared) + partnerinhh + nb_children + gender + yrseducation + jqi_monthly_earnings + jqi_skills_discretion + jqi_social_environment + jqi_physical_environment + jqi_intensity + jqi_prospects + jqi_working_time_quality + factor(country) + factor(isco),
data = data,
index = c("mergeid", "year"),
model = "within")
coeftest(fe_mod, vcov. = vcovHC, type = "HC1")
fe_mod <- plm(eurod ~ work_horizon + work_horizon_change + age + I(age_squared) + partnerinhh + nb_children + gender + yrseducation, #+ jqi_monthly_earnings + jqi_skills_discretion + jqi_social_environment + jqi_physical_environment + jqi_intensity + jqi_prospects + jqi_working_time_quality + factor(country) + factor(isco),
data = data,
index = c("mergeid", "year"),
model = "within")
coeftest(fe_mod, vcov. = vcovHC, type = "HC1")
data$work_horizon_change_bin <- ifelse(data$work_horizon_change > 1, 1, 0)
fe_mod <- plm(eurod ~ work_horizon + work_horizon_change_bin + age + I(age_squared) + partnerinhh + nb_children + gender + yrseducation, #+ jqi_monthly_earnings + jqi_skills_discretion + jqi_social_environment + jqi_physical_environment + jqi_intensity + jqi_prospects + jqi_working_time_quality + factor(isco) + factor(country),
data = data,
index = c("mergeid", "year"),
model = "within")
coeftest(fe_mod, vcov. = vcovHC, type = "HC1")
data$work_horizon_change_cat <- cut(data$work_horizon_change, breaks = c(-Inf, 0, 1, 2, Inf), labels = c("0", "<1", "<2", "2+"), include.lowest = TRUE)
fe_mod <- plm(eurod ~ work_horizon + work_horizon_change_cat + age + I(age_squared) + partnerinhh + nb_children + gender + yrseducation, #+ jqi_monthly_earnings + jqi_skills_discretion + jqi_social_environment + jqi_physical_environment + jqi_intensity + jqi_prospects + jqi_working_time_quality + factor(country) + factor(isco),
data = data,
index = c("mergeid", "year"),
model = "within")
coeftest(fe_mod, vcov. = vcovHC, type = "HC1")
data <- read.csv("final_w46.csv")
data <- read.csv("final_w456.csv")
data <- read.csv("data_clean_w46.csv")
# age squared
data$age_squared <- data$age^2
fe_mod <- plm(eurod ~ work_horizon + work_horizon_change + age + I(age_squared) + partnerinhh + nb_children + gender + yrseducation, #+ jqi_monthly_earnings + jqi_skills_discretion + jqi_social_environment + jqi_physical_environment + jqi_intensity + jqi_prospects + jqi_working_time_quality + factor(country) + factor(isco),
data = data,
index = c("mergeid", "year"),
model = "within")
coeftest(fe_mod, vcov. = vcovHC, type = "HC1")
data$work_horizon_change_bin <- ifelse(data$work_horizon_change > 1, 1, 0)
fe_mod <- plm(eurod ~ work_horizon + work_horizon_change_bin + age + I(age_squared) + partnerinhh + nb_children + gender + yrseducation, #+ jqi_monthly_earnings + jqi_skills_discretion + jqi_social_environment + jqi_physical_environment + jqi_intensity + jqi_prospects + jqi_working_time_quality + factor(isco) + factor(country),
data = data,
index = c("mergeid", "year"),
model = "within")
coeftest(fe_mod, vcov. = vcovHC, type = "HC1")
data$work_horizon_change_cat <- cut(data$work_horizon_change, breaks = c(-Inf, 0, 1, 2, Inf), labels = c("0", "<1", "<2", "2+"), include.lowest = TRUE)
fe_mod <- plm(eurod ~ work_horizon + work_horizon_change_cat + age + I(age_squared) + partnerinhh + nb_children + gender + yrseducation, #+ jqi_monthly_earnings + jqi_skills_discretion + jqi_social_environment + jqi_physical_environment + jqi_intensity + jqi_prospects + jqi_working_time_quality + factor(country) + factor(isco),
data = data,
index = c("mergeid", "year"),
model = "within")
coeftest(fe_mod, vcov. = vcovHC, type = "HC1")
data <- read.csv("final_w456.csv")
#data <- read.csv("data_clean_w46.csv")
# age squared
data$age_squared <- data$age^2
fe_mod <- plm(eurod ~ work_horizon + work_horizon_change + age + I(age_squared) + partnerinhh + nb_children + gender + yrseducation, #+ jqi_monthly_earnings + jqi_skills_discretion + jqi_social_environment + jqi_physical_environment + jqi_intensity + jqi_prospects + jqi_working_time_quality + factor(country) + factor(isco),
data = data,
index = c("mergeid", "year"),
model = "within")
coeftest(fe_mod, vcov. = vcovHC, type = "HC1")
data$work_horizon_change_bin <- ifelse(data$work_horizon_change > 1, 1, 0)
fe_mod <- plm(eurod ~ work_horizon + work_horizon_change_bin + age + I(age_squared) + partnerinhh + nb_children + gender + yrseducation, #+ jqi_monthly_earnings + jqi_skills_discretion + jqi_social_environment + jqi_physical_environment + jqi_intensity + jqi_prospects + jqi_working_time_quality + factor(isco) + factor(country),
data = data,
index = c("mergeid", "year"),
model = "within")
coeftest(fe_mod, vcov. = vcovHC, type = "HC1")
data$work_horizon_change_cat <- cut(data$work_horizon_change, breaks = c(-Inf, 0, 1, 2, Inf), labels = c("0", "<1", "<2", "2+"), include.lowest = TRUE)
fe_mod <- plm(eurod ~ work_horizon + work_horizon_change_cat + age + I(age_squared) + partnerinhh + nb_children + gender + yrseducation, #+ jqi_monthly_earnings + jqi_skills_discretion + jqi_social_environment + jqi_physical_environment + jqi_intensity + jqi_prospects + jqi_working_time_quality + factor(country) + factor(isco),
data = data,
index = c("mergeid", "year"),
model = "within")
coeftest(fe_mod, vcov. = vcovHC, type = "HC1")
data <- read.csv("data_clean_w46_common.csv")
# age squared
data$age_squared <- data$age^2
data$time = ifelse(data$year >= 2015, 1, 0)
#data <- data %>%
#  mutate(work_horizon_change = ifelse(time == 0, 0, work_horizon_change))
mergeids_to_treat <- data %>%
filter(time == 1 & work_horizon_change > 1) %>%
select(mergeid) %>%
distinct()
data <- data %>%
mutate(treated = ifelse(mergeid %in% mergeids_to_treat$mergeid, 1, 0))
data$did = data$time * data$treated
didreg = lm(eurod ~ treated + time + did, data = data)
summary(didreg)
didreg = lm(eurod ~ treated + time + did + age + I(age_squared) + gender + nb_children + partnerinhh + yrseducation + work_horizon, data = data)
summary(didreg)
didreg = lm(eurod ~ treated + time + did + age + I(age_squared) + gender + nb_children + partnerinhh + yrseducation + work_horizon + jqi_monthly_earnings + jqi_skills_discretion + jqi_social_environment + jqi_physical_environment + jqi_intensity + jqi_prospects + jqi_working_time_quality, data = data)
summary(didreg)
logit_reg <- glm(eurodcat ~ treated + time + did + age + I(age_squared) + gender + nb_children + partnerinhh + yrseducation + work_horizon + jqi_monthly_earnings + jqi_skills_discretion + jqi_social_environment + jqi_physical_environment + jqi_intensity + jqi_prospects + jqi_working_time_quality, data = data,
family = binomial(link = "logit"))
summary(logit_reg)
mean_physical_environment <- mean(data$jqi_physical_environment)
filtered_data <- data[data$jqi_physical_environment > mean_physical_environment, ]
didreg = lm(eurod ~ treated + time + did + age + I(age_squared) + gender + nb_children + partnerinhh + yrseducation + work_horizon + jqi_monthly_earnings + jqi_skills_discretion + jqi_social_environment + jqi_physical_environment + jqi_intensity + jqi_prospects + jqi_working_time_quality, data = filtered_data)
summary(didreg)
mean_physical_environment <- mean(data$jqi_physical_environment)
filtered_data <- data[data$jqi_physical_environment > mean_physical_environment, ]
didreg = lm(eurod ~ treated + time + did + age + I(age_squared) + gender + nb_children + partnerinhh + yrseducation + work_horizon + jqi_monthly_earnings + jqi_skills_discretion + jqi_social_environment + jqi_intensity + jqi_prospects + jqi_working_time_quality, data = filtered_data)
summary(didreg)
fe_mod <- plm(eurod ~ treated + time + did + work_horizon + age + I(age_squared) + partnerinhh + nb_children + gender + yrseducation + jqi_monthly_earnings + jqi_skills_discretion + jqi_social_environment + jqi_physical_environment + jqi_intensity + jqi_prospects + jqi_working_time_quality + factor(isco) + factor(country),
data = data,
index = "mergeid",
model = "within")
coeftest(fe_mod, vcov. = vcovHC, type = "HC1")
fe_mod <- plm(eurod ~ treated + time + did + work_horizon + age + I(age_squared) + partnerinhh + nb_children + gender + yrseducation + jqi_monthly_earnings + jqi_skills_discretion + jqi_social_environment + jqi_physical_environment + jqi_intensity + jqi_prospects + jqi_working_time_quality + factor(isco) + factor(country),
data = data,
index = c("mergeid","year"),
model = "within")
coeftest(fe_mod, vcov. = vcovHC, type = "HC1")
fe_mod <- plm(eurod ~ treated + time + did + work_horizon + age + I(age_squared) + partnerinhh + nb_children + gender + yrseducation + jqi_monthly_earnings + jqi_skills_discretion + jqi_social_environment + jqi_physical_environment + jqi_intensity + jqi_prospects + jqi_working_time_quality + factor(isco) + factor(country),
data = data,
index = c("mergeid","isco"),
model = "within")
coeftest(fe_mod, vcov. = vcovHC, type = "HC1")
didreg = lm(eurod ~ treated + time + did + age + I(age_squared) + gender + nb_children + partnerinhh + yrseducation + work_horizon + work_horizon_change + jqi_monthly_earnings + jqi_skills_discretion + jqi_social_environment + jqi_physical_environment + jqi_intensity + jqi_prospects + jqi_working_time_quality, data = data)
summary(didreg)
library(plm)
library(lmtest)
library(dplyr)
data <- read.csv("final_w456.csv")
#data <- read.csv("data_clean_w46.csv")
# age squared
data$age_squared <- data$age^2
fe_mod <- plm(eurod ~ work_horizon + work_horizon_change + age + I(age_squared) + partnerinhh + nb_children + gender + yrseducation, #+ jqi_monthly_earnings + jqi_skills_discretion + jqi_social_environment + jqi_physical_environment + jqi_intensity + jqi_prospects + jqi_working_time_quality + factor(country) + factor(isco),
data = data,
index = c("mergeid", "year"),
model = "within")
coeftest(fe_mod, vcov. = vcovHC, type = "HC1")
data$work_horizon_change_bin <- ifelse(data$work_horizon_change > 1, 1, 0)
fe_mod <- plm(eurod ~ work_horizon + work_horizon_change_bin + age + I(age_squared) + partnerinhh + nb_children + gender + yrseducation, #+ jqi_monthly_earnings + jqi_skills_discretion + jqi_social_environment + jqi_physical_environment + jqi_intensity + jqi_prospects + jqi_working_time_quality + factor(isco) + factor(country),
data = data,
index = c("mergeid", "year"),
model = "within")
coeftest(fe_mod, vcov. = vcovHC, type = "HC1")
data$work_horizon_change_cat <- cut(data$work_horizon_change, breaks = c(-Inf, 0, 1, 2, Inf), labels = c("0", "<1", "<2", "2+"), include.lowest = TRUE)
fe_mod <- plm(eurod ~ work_horizon + work_horizon_change_cat + age + I(age_squared) + partnerinhh + nb_children + gender + yrseducation, #+ jqi_monthly_earnings + jqi_skills_discretion + jqi_social_environment + jqi_physical_environment + jqi_intensity + jqi_prospects + jqi_working_time_quality + factor(country) + factor(isco),
data = data,
index = c("mergeid", "year"),
model = "within")
coeftest(fe_mod, vcov. = vcovHC, type = "HC1")
data <- read.csv("data_clean_w46_common.csv")
# age squared
data$age_squared <- data$age^2
data$time = ifelse(data$year >= 2015, 1, 0)
#data <- data %>%
#  mutate(work_horizon_change = ifelse(time == 0, 0, work_horizon_change))
mergeids_to_treat <- data %>%
filter(time == 1 & work_horizon_change > 1) %>%
select(mergeid) %>%
distinct()
data <- data %>%
mutate(treated = ifelse(mergeid %in% mergeids_to_treat$mergeid, 1, 0))
data$did = data$time * data$treated
didreg = lm(eurod ~ treated + time + did, data = data)
summary(didreg)
didreg = lm(eurod ~ treated + time + did + age + I(age_squared) + gender + nb_children + partnerinhh + yrseducation + work_horizon, data = data)
summary(didreg)
didreg = lm(eurod ~ treated + time + did + age + I(age_squared) + gender + nb_children + partnerinhh + yrseducation + work_horizon + jqi_monthly_earnings + jqi_skills_discretion + jqi_social_environment + jqi_physical_environment + jqi_intensity + jqi_prospects + jqi_working_time_quality, data = data)
summary(didreg)
logit_reg <- glm(eurodcat ~ treated + time + did + age + I(age_squared) + gender + nb_children + partnerinhh + yrseducation + work_horizon + jqi_monthly_earnings + jqi_skills_discretion + jqi_social_environment + jqi_physical_environment + jqi_intensity + jqi_prospects + jqi_working_time_quality, data = data,
family = binomial(link = "logit"))
summary(logit_reg)
mean_physical_environment <- mean(data$jqi_physical_environment)
filtered_data <- data[data$jqi_physical_environment > mean_physical_environment, ]
didreg = lm(eurod ~ treated + time + did + age + I(age_squared) + gender + nb_children + partnerinhh + yrseducation + work_horizon + jqi_monthly_earnings + jqi_skills_discretion + jqi_social_environment + jqi_intensity + jqi_prospects + jqi_working_time_quality, data = filtered_data)
summary(didreg)
didreg = lm(eurod ~ treated + time + did + age + I(age_squared) + gender + nb_children + partnerinhh + yrseducation + work_horizon + work_horizon_change + jqi_monthly_earnings + jqi_skills_discretion + jqi_social_environment + jqi_physical_environment + jqi_intensity + jqi_prospects + jqi_working_time_quality, data = data)
summary(didreg)
didreg = lm(eurod ~ treated + time + did + age + I(age_squared) + gender + nb_children + partnerinhh + yrseducation + work_horizon + work_horizon_change , data = data)
summary(didreg)
logit_reg <- glm(eurodcat ~ treated + time + did + age + I(age_squared) + gender + nb_children + partnerinhh + yrseducation + work_horizon + work_horizon_change + jqi_monthly_earnings + jqi_skills_discretion + jqi_social_environment + jqi_physical_environment + jqi_intensity + jqi_prospects + jqi_working_time_quality, data = data,
family = binomial(link = "logit"))
summary(logit_reg)
unique_treated_count <- data %>%
group_by(mergeid) %>%
summarise(unique_treated_values = n_distinct(treated))
# View the count of unique treated values for each mergeid
print(unique_treated_count)
unique_treated_count <- data %>%
group_by(mergeid) %>%
summarise(unique_treated_values = n_distinct(treated))
# View the count of unique treated values for each mergeid
summary(unique_treated_count$unique_treated_values)
library(plm)
library(lmtest)
library(dplyr)
data <- read.csv("final_w456.csv")
#data <- read.csv("data_clean_w46.csv")
# age squared
data$age_squared <- data$age^2
fe_mod <- plm(eurod ~ work_horizon + work_horizon_change + age + I(age_squared) + partnerinhh + nb_children + gender + yrseducation, #+ jqi_monthly_earnings + jqi_skills_discretion + jqi_social_environment + jqi_physical_environment + jqi_intensity + jqi_prospects + jqi_working_time_quality + factor(country) + factor(isco),
data = data,
index = c("mergeid", "year"),
model = "within")
coeftest(fe_mod, vcov. = vcovHC, type = "HC1")
data$work_horizon_change_bin <- ifelse(data$work_horizon_change > 1, 1, 0)
fe_mod <- plm(eurod ~ work_horizon + work_horizon_change_bin + age + I(age_squared) + partnerinhh + nb_children + gender + yrseducation, #+ jqi_monthly_earnings + jqi_skills_discretion + jqi_social_environment + jqi_physical_environment + jqi_intensity + jqi_prospects + jqi_working_time_quality + factor(isco) + factor(country),
data = data,
index = c("mergeid", "year"),
model = "within")
coeftest(fe_mod, vcov. = vcovHC, type = "HC1")
data$work_horizon_change_cat <- cut(data$work_horizon_change, breaks = c(-Inf, 0, 1, 2, Inf), labels = c("0", "<1", "<2", "2+"), include.lowest = TRUE)
fe_mod <- plm(eurod ~ work_horizon + work_horizon_change_cat + age + I(age_squared) + partnerinhh + nb_children + gender + yrseducation, #+ jqi_monthly_earnings + jqi_skills_discretion + jqi_social_environment + jqi_physical_environment + jqi_intensity + jqi_prospects + jqi_working_time_quality + factor(country) + factor(isco),
data = data,
index = c("mergeid", "year"),
model = "within")
coeftest(fe_mod, vcov. = vcovHC, type = "HC1")
data <- read.csv("data_clean_w46_common.csv")
# age squared
data$age_squared <- data$age^2
data$time = ifelse(data$year >= 2015, 1, 0)
#data <- data %>%
#  mutate(work_horizon_change = ifelse(time == 0, 0, work_horizon_change))
mergeids_to_treat <- data %>%
filter(time == 1 & work_horizon_change > 1) %>%
select(mergeid) %>%
distinct()
data <- data %>%
mutate(treated = ifelse(mergeid %in% mergeids_to_treat$mergeid, 1, 0))
data$did = data$time * data$treated
didreg = lm(eurod ~ treated + time + did, data = data)
summary(didreg)
didreg = lm(eurod ~ treated + time + did + age + I(age_squared) + gender + nb_children + partnerinhh + yrseducation + work_horizon + work_horizon_change, data = data)
summary(didreg)
didreg = lm(eurod ~ treated + time + did + age + I(age_squared) + gender + nb_children + partnerinhh + yrseducation + work_horizon + work_horizon_change + jqi_monthly_earnings + jqi_skills_discretion + jqi_social_environment + jqi_physical_environment + jqi_intensity + jqi_prospects + jqi_working_time_quality, data = data)
summary(didreg)
logit_reg <- glm(eurodcat ~ treated + time + did + age + I(age_squared) + gender + nb_children + partnerinhh + yrseducation + work_horizon + work_horizon_change + jqi_monthly_earnings + jqi_skills_discretion + jqi_social_environment + jqi_physical_environment + jqi_intensity + jqi_prospects + jqi_working_time_quality, data = data,
family = binomial(link = "logit"))
summary(logit_reg)
mean_physical_environment <- mean(data$jqi_physical_environment)
filtered_data <- data[data$jqi_physical_environment > mean_physical_environment, ]
didreg = lm(eurod ~ treated + time + did + age + I(age_squared) + gender + nb_children + partnerinhh + yrseducation + work_horizon + jqi_monthly_earnings + jqi_skills_discretion + jqi_social_environment + jqi_intensity + jqi_prospects + jqi_working_time_quality, data = filtered_data)
summary(didreg)
library(plm)
library(lmtest)
library(dplyr)
data$work_horizon_change_cat <- cut(data$work_horizon_change, breaks = c(-Inf, 0, 1, 2, Inf), labels = c("0", "<1", "<2", "2+"), include.lowest = TRUE)
fe_mod <- plm(eurod ~ work_horizon + work_horizon_change_cat + age + I(age_squared) + partnerinhh + nb_children + gender + yrseducation + jqi_monthly_earnings + jqi_skills_discretion + jqi_social_environment + jqi_physical_environment + jqi_intensity + jqi_prospects + jqi_working_time_quality + factor(country) + factor(isco),
data = data,
index = c("mergeid", "year"),
model = "within")
coeftest(fe_mod, vcov. = vcovHC, type = "HC1")
library(plm)
library(lmtest)
library(dplyr)
data <- read.csv("final_w456.csv")
#data <- read.csv("data_clean_w46.csv")
# age squared
data$age_squared <- data$age^2
fe_mod <- plm(eurod ~ work_horizon + work_horizon_change + age + I(age_squared) + partnerinhh + nb_children + gender + yrseducation, #+ jqi_monthly_earnings + jqi_skills_discretion + jqi_social_environment + jqi_physical_environment + jqi_intensity + jqi_prospects + jqi_working_time_quality + factor(country) + factor(isco),
data = data,
index = c("mergeid", "year"),
model = "within")
coeftest(fe_mod, vcov. = vcovHC, type = "HC1")
data$work_horizon_change_bin <- ifelse(data$work_horizon_change > 1, 1, 0)
fe_mod <- plm(eurod ~ work_horizon + work_horizon_change_bin + age + I(age_squared) + partnerinhh + nb_children + gender + yrseducation, #+ jqi_monthly_earnings + jqi_skills_discretion + jqi_social_environment + jqi_physical_environment + jqi_intensity + jqi_prospects + jqi_working_time_quality + factor(isco) + factor(country),
data = data,
index = c("mergeid", "year"),
model = "within")
coeftest(fe_mod, vcov. = vcovHC, type = "HC1")
data$work_horizon_change_cat <- cut(data$work_horizon_change, breaks = c(-Inf, 0, 1, 2, Inf), labels = c("0", "<1", "<2", "2+"), include.lowest = TRUE)
fe_mod <- plm(eurod ~ work_horizon + work_horizon_change_cat + age + I(age_squared) + partnerinhh + nb_children + gender + yrseducation + jqi_monthly_earnings + jqi_skills_discretion + jqi_social_environment + jqi_physical_environment + jqi_intensity + jqi_prospects + jqi_working_time_quality + factor(country) + factor(isco),
data = data,
index = c("mergeid", "year"),
model = "within")
coeftest(fe_mod, vcov. = vcovHC, type = "HC1")
data <- read.csv("data_clean_w46_common.csv")
# age squared
data$age_squared <- data$age^2
data$time = ifelse(data$year >= 2015, 1, 0)
#data <- data %>%
#  mutate(work_horizon_change = ifelse(time == 0, 0, work_horizon_change))
mergeids_to_treat <- data %>%
filter(time == 1 & work_horizon_change > 1) %>%
select(mergeid) %>%
distinct()
data <- data %>%
mutate(treated = ifelse(mergeid %in% mergeids_to_treat$mergeid, 1, 0))
data$did = data$time * data$treated
didreg = lm(eurod ~ treated + time + did, data = data)
summary(didreg)
didreg = lm(eurod ~ treated + time + did + age + I(age_squared) + gender + nb_children + partnerinhh + yrseducation + work_horizon + work_horizon_change, data = data)
summary(didreg)
didreg = lm(eurod ~ treated + time + did + age + I(age_squared) + gender + nb_children + partnerinhh + yrseducation + work_horizon + work_horizon_change + jqi_monthly_earnings + jqi_skills_discretion + jqi_social_environment + jqi_physical_environment + jqi_intensity + jqi_prospects + jqi_working_time_quality, data = data)
summary(didreg)
logit_reg <- glm(eurodcat ~ treated + time + did + age + I(age_squared) + gender + nb_children + partnerinhh + yrseducation + work_horizon + work_horizon_change + jqi_monthly_earnings + jqi_skills_discretion + jqi_social_environment + jqi_physical_environment + jqi_intensity + jqi_prospects + jqi_working_time_quality, data = data,
family = binomial(link = "logit"))
summary(logit_reg)
mean_physical_environment <- mean(data$jqi_physical_environment)
filtered_data <- data[data$jqi_physical_environment > mean_physical_environment, ]
didreg = lm(eurod ~ treated + time + did + age + I(age_squared) + gender + nb_children + partnerinhh + yrseducation + work_horizon + jqi_monthly_earnings + jqi_skills_discretion + jqi_social_environment + jqi_intensity + jqi_prospects + jqi_working_time_quality, data = filtered_data)
summary(didreg)
